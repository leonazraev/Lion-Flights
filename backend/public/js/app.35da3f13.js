(function(t){function e(e){for(var n,a,o=e[0],u=e[1],c=e[2],l=0,f=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,a=1;a<r.length;a++){var o=r[a];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=u(u.s=r[0]))}return t}var n={},a={app:0},s={app:0},i=[];function o(t){return u.p+"js/"+({about:"about"}[t]||t)+"."+{about:"34106c74"}[t]+".js"}function u(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(t){var e=[],r={about:1};a[t]?e.push(a[t]):0!==a[t]&&r[t]&&e.push(a[t]=new Promise((function(e,r){for(var n="css/"+({about:"about"}[t]||t)+"."+{about:"7778773f"}[t]+".css",s=u.p+n,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var c=i[o],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===n||l===s))return e()}var f=document.getElementsByTagName("style");for(o=0;o<f.length;o++){c=f[o],l=c.getAttribute("data-href");if(l===n||l===s)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[t],d.parentNode.removeChild(d),r(i)},d.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){a[t]=0})));var n=s[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,r){n=s[t]=[e,r]}));e.push(n[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=o(t);var f=new Error;c=function(e){l.onerror=l.onload=null,clearTimeout(d);var r=s[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",f.name="ChunkLoadError",f.type=n,f.request=a,r[1](f)}s[t]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=n,u.d=function(t,e,r){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)u.d(r,n,function(e){return t[e]}.bind(null,n));return r},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var f=0;f<c.length;f++)e(c[f]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("8a23"),a=r.n(n);a.a},"07ff":function(t,e,r){"use strict";var n=r("61a8"),a=r.n(n);a.a},"30c3":function(t,e,r){},"3a4a":function(t,e,r){"use strict";var n=r("5d26"),a=r.n(n);a.a},4230:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("navigation-bar"),r("fade-transition",{attrs:{duration:300}},[r("router-view")],1)],1)},s=[],i=(r("96cf"),r("1da1")),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar navbar-expand-lg navbar-light sticky-top"},[t._m(0),t._m(1),r("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarToggleExternalContent"}},[r("ul",{staticClass:"navbar-nav ml-auto"},[t.getIsAuth?t._e():r("li",{staticClass:"nav-item active p-2"},[t._m(2)]),t.getIsAuth?t._e():r("li",{staticClass:"nav-item p-2"},[t._m(3)]),t.getIsAuth?r("li",{staticClass:"nav-item p-2"},[t._m(4)]):t._e(),t.getIsAuth?r("li",{staticClass:"nav-item p-2"},[r("a",{attrs:{href:""}},[r("button",{staticClass:"btn btn-primary spec-button",attrs:{type:"button"},on:{click:function(e){return t.logout()}}},[t._v("LOGOUT")])])]):t._e()])])])},u=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"navbar-brand",attrs:{href:"/#/"}},[n("img",{staticClass:"logo",attrs:{src:r("948e")}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarToggleExternalContent","aria-controls":"navbarToggleExternalContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{attrs:{href:"/#/login"}},[r("button",{staticClass:"btn btn-primary spec-button",attrs:{type:"button"}},[t._v("LOGIN")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{attrs:{href:"/#/signup"}},[r("button",{staticClass:"btn btn-primary spec-button",attrs:{type:"button"}},[t._v("SIGNUP")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{attrs:{href:"/#/my-flights"}},[r("button",{staticClass:"btn btn-primary spec-button",attrs:{type:"button"}},[t._v("MY FLIGHTS")])])}],c={data:function(){return{}},computed:{getIsAuth:function(){return console.log(this.$store.getters.getIsAuth),this.$store.getters.getIsAuth}},methods:{logout:function(){var t=this;this.$store.dispatch("logoutHandler").then((function(){t.$router.redirect("/")}))}}},l=c,f=(r("3a4a"),r("2877")),d=Object(f["a"])(l,o,u,!1,null,"1ee57024",null),p=d.exports,h=r("7c76"),g={components:{NavigationBar:p,FadeTransition:h["a"]},methods:{initializeStates:function(){this.$store.dispatch("fetchCities")}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.initializeStates();case 2:case"end":return e.stop()}}),e)})))()},mounted:function(){}},m=g,v=(r("034f"),Object(f["a"])(m,a,s,!1,null,null,null)),b=v.exports,y=(r("d3b7"),r("8c4f")),w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bodyImg"},[r("zoom-x-transition",{attrs:{duration:1500}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.getShow,expression:"getShow"}]},[r("search-form")],1)]),r("div",{staticClass:"container p-4 w-75"},[t.getIsLoading?r("loading",{attrs:{"is-full-page":!1,loader:"dots",active:!0,color:"#008ec6",height:80,width:80,"background-color":"#999999"}}):t._e(),r("zoom-y-transition",{attrs:{duration:1500}},[r("vueper-slides",{directives:[{name:"show",rawName:"v-show",value:t.showFlightsOffers,expression:"showFlightsOffers"}],staticClass:"no-shadow",attrs:{"slide-image-inside":"",autoplay:!0,duration:3e3,"visible-slides":3,"slide-multiple":"",gap:3,"slide-ratio":1/4,"dragging-distance":200,breakpoints:{800:{visibleSlides:2,slideMultiple:2}}}},t._l(t.flightsOffers,(function(e,n){return r("vueper-slide",{key:n,style:"border-radius: 20px",attrs:{title:e.toString(),image:t.img},scopedSlots:t._u([{key:"content",fn:function(){return[r("div",[r("div",{staticClass:"vueperslides-font mt-2 text-uppercase font-italic text-center font-weight-bold d-flex flex-column justify-content-center"},[r("div",{staticClass:"dates"},[t._v(t._s(t.getDepartCity)+" - "+t._s(e.returnCity))]),r("div",{staticClass:"dates"},[t._v(t._s(e.depart.departure.fullDateTime.substring(0,10))+" - "+t._s(e.return.departure.fullDateTime.substring(0,10)))]),r("div",{staticClass:"price"},[t._v(t._s(e.price.total+e.price.symbol))]),r("button",{staticClass:"btn btn-dark btn-sm font-weight-bold opacity dates",attrs:{type:"button"},on:{click:function(r){return t.addFlight(e,t.getDepartCity,e.returnCity)}}},[t._v("Add")])])])]},proxy:!0}],null,!0)})})),1)],1)],1)],1)},C=[],x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container h-60 mt-4 fillColor"},[t.getIsLoading?r("loading",{attrs:{"is-full-page":!0,loader:"dots",active:!0,color:"#008ec6",height:80,width:80,"background-color":"#999999"}}):t._e(),r("div",{staticClass:"d-flex row p-2"},[r("div",{staticClass:"form-group is-valid col"},[r("label",{staticClass:"font-weight-bold text-white",attrs:{for:"from"}},[t._v(" From "),r("span",[r("departure-icon")],1)]),r("auto-complete",{attrs:{fromIsValid:t.fromIsValid,fromToValue:t.from},on:{valueChange:t.fromUpdate}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.from,expression:"from"}],attrs:{hidden:"",id:"from",name:"from",type:"text"},domProps:{value:t.from},on:{input:function(e){e.target.composing||(t.from=e.target.value)}}})],1),r("div",{staticClass:"form-group col"},[r("label",{staticClass:"font-weight-bold text-white",attrs:{for:"to"}},[t._v(" To "),r("span",[r("arrival-icon")],1)]),r("auto-complete",{attrs:{toIsValid:t.toIsValid,fromToValue:t.to},on:{valueChange:t.toUpdate}}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],attrs:{hidden:"",id:"to",name:"to",type:"text"},domProps:{value:t.to},on:{input:function(e){e.target.composing||(t.to=e.target.value)}}})],1)]),r("div",{staticClass:"d-flex row p-2"},[r("div",{staticClass:"form-group col"},[r("label",{staticClass:"font-weight-bold text-white",attrs:{for:"depart"}},[t._v("Depart")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.compDepartDate,expression:"compDepartDate"}],staticClass:"form-control",class:[t.departValid],attrs:{name:"depart",id:"depart",type:"date"},domProps:{value:t.compDepartDate},on:{input:function(e){e.target.composing||(t.compDepartDate=e.target.value)}}})]),r("div",{staticClass:"form-group col"},[r("label",{staticClass:"font-weight-bold text-white",attrs:{for:"return"}},[t._v("Return")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.compReturnDate,expression:"compReturnDate"}],staticClass:"form-control",class:[t.returnValid],attrs:{name:"return",id:"return",type:"date"},domProps:{value:t.compReturnDate},on:{input:function(e){e.target.composing||(t.compReturnDate=e.target.value)}}})]),r("div",{staticClass:"form-group col-sm"},[r("label",{staticClass:"font-weight-bold text-white",attrs:{for:"passengers"}},[t._v("Passengers")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.passengers,expression:"passengers"}],staticClass:"form-control",attrs:{name:"passengers",id:"passengers",type:"Number",min:"1"},domProps:{value:t.passengers},on:{input:function(e){e.target.composing||(t.passengers=e.target.value)}}})])]),r("div",{staticClass:"d-flex justify-content-center p-2s"},[r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-outline-light font-weight-bold btn-lg",on:{click:t.postSearchForm}},[t._v("Search")])])])],1)},O=[],k=(r("c975"),r("fb6a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{on:{click:function(e){t.show=!1}}},[r("input",{staticClass:"form-control font-weight-bold",class:[t.toIsValid,t.fromIsValid],attrs:{type:"text",spellcheck:"false"},domProps:{value:t.getCity},on:{input:[t.filteredCitiesMet,function(e){t.getCity=e.target.value}],keyup:t.onArrow}}),t.filteredCities&&t.show?r("ul",{staticClass:"list-group w-75"},t._l(t.filteredCities,(function(e,n){return r("li",{key:n,staticClass:"list-group-item py-1",class:[t.activeIndex===n?"font-weight-bold list-group-item list-group-item-action active":"list-group-item list-group-item-action"],on:{mouseover:function(e){return t.setActive(n)},mouseout:function(e){return t.deActive()},click:function(r){t.setCity(e.name+" ("+e.code+")")}}},[t._v(t._s(e.name+" ("+e.code+")"))])})),0):t._e(),t.showNote?r("small",{staticClass:"form-text text-muted",attrs:{id:"passwordHelpBlock"}},[t._v('Example: "Tel Aviv (TLV)"')]):t._e()])}),_=[],S=(r("4de4"),r("b0c0"),r("2ca0"),{data:function(){return{city:"",filteredCities:[],show:!0,activeIndex:0,showNote:!0,arrowCounter:0}},props:["fromIsValid","toIsValid"],methods:{handleClickOutside:function(t){this.$el.contains(t.target)||(this.show=!1)},onArrow:function(t){var e=this.activeIndex;if("ArrowDown"==t.code)e=(this.activeIndex+1)%this.filteredCities.length;else if("ArrowUp"==t.code)e=0===this.activeIndex?4:(this.activeIndex-1)%this.filteredCities.length;else if("Enter"===t.code)return void this.setCity(this.filteredCities[this.activeIndex].name+" ("+this.filteredCities[this.activeIndex].code+")");this.setActive(e)},filteredCitiesMet:function(){var t=this;this.show=!0;var e=0;this.filteredCities=this.$store.getters.getCities.filter((function(r){if(r.name.toLowerCase().startsWith(t.city.toLowerCase())&&e<5)return e++,r.name}))},setCity:function(t){this.$emit("valueChange",t),this.city=t,this.show=!1},setActive:function(t){this.activeIndex=t},deActive:function(){this.activeIndex=-1}},computed:{getShow:{get:function(){return this.show},set:function(t){this.show=t}},getCity:{get:function(){return this.city},set:function(t){this.$emit("valueChange",t),this.city=t},compShowNote:{get:function(){return this.showNote},set:function(){}},getFil:function(){return this.filteredCities}}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.addEventListener("click",t.handleClickOutside);case 1:case"end":return e.stop()}}),e)})))()},destroyed:function(){document.removeEventListener("click",this.handleClickOutside)},created:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}}),L=S,I=(r("07ff"),Object(f["a"])(L,k,_,!1,null,"18affb7e",null)),D=I.exports,F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{id:"Capa_1","data-name":"Capa 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 316.99",fill:"#ffffff",width:"35",height:"35"}},[r("title",[t._v("2")]),r("rect",{attrs:{y:"296.99",width:"460",height:"20",fill:"#000000"}}),r("path",{attrs:{d:"M434.31,89.91c-33.87-14.55-68.59-.35-91.74,14.12l-69,43.13L139.84,99.29l-74.6,12.43,116.93,92.65L119.77,244,47.6,226.21,4.08,253.4l48.08,46.68c-3.77,5.8-6.85,13.7-2.27,21,6,9.57,20.61,13,43.57,10.15q7.07-.87,15.17-2.52c25-5.08,51.5-14.87,67.61-24.94L423,149.63c21.31-13.32,31.21-25.77,30.26-38.07C452.76,105.18,449.07,96.24,434.31,89.91Zm-21.44,43.55L166.13,287.63c-13.72,8.58-36.92,17.2-59.1,22-22.68,4.87-35.25,3.79-39.61,2.1a36.28,36.28,0,0,1,4.64-6.16l6.06-6.82-43.3-42.05,16-10,72.25,17.79L215,206.08,110.76,123.46l27.32-4.55,137.73,49.31,76.86-48c28.07-17.54,53-21.84,74.12-12.77h0c5.32,2.28,7.37,4.59,7.44,5.59C434.24,113.08,434.5,119.94,412.87,133.46Z",transform:"translate(0 -83.81)"}})])},A=[],R={},N=R,T=Object(f["a"])(N,F,A,!1,null,"0c832282",null),V=T.exports,$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{id:"Capa_1","data-name":"Capa 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 401.05",width:"35",height:"35",fill:"#ffffff"}},[r("title",[t._v("1")]),r("rect",{attrs:{y:"381.05",width:"460",height:"20",fill:"#000000"}}),r("path",{attrs:{d:"M439.75,300.46C431.3,262.7,398,241.9,371.42,231.1l-79-32.32L251.14,55.56,194.82-.25,187.66,156l-72-28.83L86.54,55,36.71,34.65,26.51,104.2c-7.19.31-15.83,2.58-19.28,11-4.47,10.94,1.58,25.46,18.12,43.27Q30.48,164,36.8,169.81C56.46,187.93,81.08,204.49,99.51,212L382,327.42c24.41,10,41,10.76,51,2.36C438.11,325.52,443.45,316.85,439.75,300.46Zm-50.17,8.42L107.05,193.5c-15.7-6.43-37.25-20.89-54.94-36.86C34,140.39,27.26,129,26,124.22a44,44,0,0,1,8.11.15l9.53,1,9.21-62.61L71.2,70.33l29.21,72.34,106,42.41,6.38-139.46L233.45,66.1l42.49,147.48,88,35.95c32.11,13.13,51.08,31.67,56.3,55.22h0c1.28,6,.58,9.09-.2,9.71C420,314.56,414.3,319,389.58,308.88Z",transform:"translate(0 0.25)"}})])},j=[],E={},P=E,H=Object(f["a"])(P,$,j,!1,null,"11fcee2a",null),J=H.exports,M=r("9062"),U=r.n(M),B=(r("e40d"),{components:{AutoComplete:D,DepartureIcon:V,ArrivalIcon:J,Loading:U.a},data:function(){return{from:"",to:"",passengers:1,fromIsValid:"",toIsValid:"",departDate:void 0,returnDate:void 0,departValid:"",returnValid:"",isLoading:!1}},computed:{getIsLoading:function(){return this.isLoading},compDepartDate:{get:function(){return this.departDate},set:function(t){var e=new Date(t),r=new Date;this.departDate=t,e>r&&(this.departValid="is-valid"),e<=r&&(this.departValid="is-invalid")}},compReturnDate:{get:function(){return this.returnDate},set:function(t){var e=new Date(t),r=new Date;this.returnDate=t,e>r&&e>new Date(this.departDate)&&(this.returnValid="is-valid"),e<=r&&(this.returnValid="is-invalid")}},getFrom:{get:function(){return this.from},set:function(t){this.from=t}}},methods:{toastHandling:function(t,e){this.$toasted.show(t,{position:"top-center",duration:"5000",type:e,theme:"outline",className:"mt-4"})},setFrom:function(t){this.from=t},toUpdate:function(t){""===t?this.toIsValid="":""!==t&&")"===t.slice(-1)?this.toIsValid="is-valid":this.toIsValid="is-invalid",this.to=t},fromUpdate:function(t){""===t?this.fromIsValid="":""!==t&&")"===t.slice(-1)?this.fromIsValid="is-valid":this.fromIsValid="is-invalid",this.from=t},postSearchForm:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("is-invalid"!==e.fromIsValid&&""!==e.fromIsValid){r.next=3;break}return e.toastHandling("From: field is incorrect","error"),r.abrupt("return");case 3:if("is-invalid"!==e.toIsValid&&""!==e.toIsValid){r.next=6;break}return e.toastHandling("To: field is incorrect","error"),r.abrupt("return");case 6:if(e.departDate&&e.returnDate&&"is-invalid"!==e.departValid&&"is-invalid"!==e.returnValid){r.next=9;break}return e.toastHandling("Please check the dates","error"),r.abrupt("return");case 9:return n=e.from.substring(0,e.from.indexOf(" (")),a=e.to.substring(0,e.to.indexOf(" (")),s={from:e.from,to:e.to,depart:e.departDate,return:e.returnDate,passengers:e.passengers,departCity:n,returnCity:a},e.isLoading=!0,r.next=15,e.$store.dispatch("postFlightSearch",s).then(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!1,t.next=3,e.$router.push("Flights");case 3:case"end":return t.stop()}}),t)}))));case 15:e.isLoading=!1,t.preventDefault();case 17:case"end":return r.stop()}}),r)})))()}},beforeMount:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},beforeCreate:function(){}}),z=B,Z=(r("efb7"),Object(f["a"])(z,x,O,!1,null,null,null)),q=Z.exports,G=r("b1b5"),Y=(r("2ec8"),{components:{SearchForm:q,ZoomXTransition:h["c"],ZoomYTransition:h["d"],VueperSlides:G["VueperSlides"],VueperSlide:G["VueperSlide"],Loading:U.a},data:function(){return{show:!1,img:"https://media.timeout.com/images/105434111/630/472/image.jpg",showFlightsOffers:!1,flightsOffers:this.$store.getters.getFlightsOffers,departCity:this.$store.getters.getdepartCityOffer,isLoading:!1}},methods:{addFlight:function(t,e,r){var n=this;if(this.getAuth){var a=[t,e,r];this.isLoading=!0,this.$store.dispatch("addFlight",a).then((function(t){n.isLoading=!1,n.toastHandling(t.message,t.type)}))}else this.toastHandling("Please login or signup first","info")},toastHandling:function(t,e){this.$toasted.show(t,{position:"top-center",duration:"5000",type:e,theme:"outline",className:"mt-4"})}},mounted:function(){var t=this;this.$store.getters.getLocation?setTimeout((function(){t.isLoading=!1,t.flightsOffers=t.$store.getters.getFlightsOffers,t.departCity=t.$store.getters.getdepartCityOffer,t.showFlightsOffers=!0}),500):navigator.geolocation&&(this.$store.commit("locationState",!0),navigator.geolocation.getCurrentPosition((function(e){var r=e.coords.latitude,n=e.coords.longitude,a={latitude:r,longitude:n};t.isLoading=!0,t.$store.dispatch("flightOffersLongLat",a).then((function(){setTimeout((function(){t.isLoading=!1,t.flightsOffers=t.$store.getters.getFlightsOffers,t.departCity=t.$store.getters.getdepartCityOffer,t.showFlightsOffers=!0}),500)}))}),(function(){t.isLoading=!1}))),setTimeout((function(){t.show=!0}),500)},computed:{getShow:function(){return this.show},getFlightsOffer:function(){return this.flightsOffers},getDepartCity:function(){return this.departCity},getIsLoading:function(){return this.isLoading},getAuth:function(){return this.$store.getters.getIsAuth}},beforeRouteLeave:function(t,e,r){this.show=!1,this.showFlightsOffers=!1,setTimeout((function(){r()}),1500)}}),K=Y,Q=(r("cccb"),Object(f["a"])(K,w,C,!1,null,null,null)),W=Q.exports;n["a"].use(y["a"]);var X=[{path:"/",name:"Home",component:W},{path:"/flights",name:"Flights",component:function(){return r.e("about").then(r.bind(null,"e210"))}},{path:"/signup",name:"signup",component:function(){return r.e("about").then(r.bind(null,"0687"))}},{path:"/login",name:"login",component:function(){return r.e("about").then(r.bind(null,"d60c"))}},{path:"/my-flights",name:"my-flights",component:function(){return r.e("about").then(r.bind(null,"2a5b"))}},{path:"/reset",name:"reset",component:function(){return r.e("about").then(r.bind(null,"8503"))}},{path:"/reset/:token",name:"new password",component:function(){return r.e("about").then(r.bind(null,"3ed8"))}}],tt=new y["a"]({base:"/",routes:X}),et=tt,rt=r("2f62"),nt=r("bc3a"),at=r.n(nt),st={cities:[],errorStatus:"",flights:[],departCity:"",returnCity:""},it={getCities:function(t){return t.cities},getErrorStatus:function(t){return t.errorStatus},getFlights:function(t){return t.flights},getDepartCity:function(t){return t.departCity},getReturnCity:function(t){return t.returnCity}},ot={fetchCities:function(t){at.a.get("cities").then((function(t){return JSON.parse(JSON.stringify(t.data))})).then((function(e){t.state.cities=JSON.parse(e)})).catch((function(e){t.state.errorStatus=e}))},postFlightSearch:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at()({method:"post",url:"flights",data:r});case 3:return n=t.sent,console.log(n.data),t.next=7,JSON.parse(JSON.stringify(n.data.data.departCity));case 7:return e.state.departCity=t.sent,t.next=10,JSON.parse(JSON.stringify(n.data.data.returnCity));case 10:return e.state.returnCity=t.sent,t.next=13,JSON.parse(JSON.stringify(n.data.data.flights));case 13:if(e.state.flights=t.sent,200!==n.status){t.next=16;break}return t.abrupt("return",{type:"success",message:"Flight was added to favorites!"});case 16:t.next=26;break;case 18:if(t.prev=18,t.t0=t["catch"](0),console.log("err: "+t.t0),503!==t.t0.response.status){t.next=25;break}return t.abrupt("return",{type:"error",message:"The server is not ready to handle the request."});case 25:return t.abrupt("return",{type:"error",message:"Some problem with the server, please try again later."});case 26:case"end":return t.stop()}}),t,null,[[0,18]])})));function e(e,r){return t.apply(this,arguments)}return e}(),setDepartCity:function(t,e){t.departCity=e},setReturnCity:function(t,e){t.returnCity=e}},ut={},ct={getters:it,mutations:ut,actions:ot,state:st},lt={flightOffers:[],departCityOffer:"",errorStatus:"",location:!1},ft={getFlightsOffers:function(t){return t.flightOffers},getdepartCityOffer:function(t){return t.departCityOffer},getLocation:function(t){return t.location}},dt={flightOffersLongLat:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log(2),t.next=4,at()({method:"post",url:"flights-offers",data:r});case 4:return n=t.sent,t.next=7,JSON.parse(JSON.stringify(n.data.data.flightsOffers));case 7:return e.state.flightOffers=t.sent,t.next=10,JSON.parse(JSON.stringify(n.data.data.departCity));case 10:e.state.departCityOffer=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));function e(e,r){return t.apply(this,arguments)}return e}()},pt={locationState:function(t,e){t.location=e}},ht={getters:ft,mutations:pt,actions:dt,state:lt},gt={errorHandler:""},mt={getErrorHandler:function(t){return console.log("inside getErrorHandler"),t.errorHandler}},vt={},bt={setErrorHandler:function(t,e){t.state.errorHandler=e},resetErrorHandler:function(t){t.state.errorHandler=""}},yt={getters:mt,mutations:bt,actions:vt,state:gt},wt={user_id:"",token:"",isAuth:!1},Ct={getUserId:function(t){return t.user_id},getToken:function(t){return t.token},getIsAuth:function(t){return t.isAuth}},xt={submitSignUp:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at()({url:"signup",method:"post",data:r});case 3:if(n=t.sent,201!==n.status&&200!==n.status){t.next=6;break}return t.abrupt("return",{type:"success",message:n.data.email+" was created"});case 6:t.next=15;break;case 8:if(t.prev=8,t.t0=t["catch"](0),409!==t.t0.response.status){t.next=14;break}return t.abrupt("return",{type:"error",message:"The user already exist, please try a different email"});case 14:return t.abrupt("return",{type:"error",message:"There have some problem with the server,please try again later"});case 15:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e,r){return t.apply(this,arguments)}return e}(),submitLogin:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at()({url:"login",method:"post",data:r});case 3:return a=t.sent,e.state.token=a.data.token,e.state.user_id=a.data.userId,e.state.isAuth=!0,s=36e5,setTimeout((function(){n["a"].toasted.show("You are logging out...",{type:"error",theme:"outline",position:"top-center",duration:1500}),setTimeout((function(){e.state.isAuth=!1,e.state.token="",e.state.user_id=";",et.push("/")}),2e3)}),s),t.abrupt("return",{type:"success",message:"login successful"});case 12:if(t.prev=12,t.t0=t["catch"](0),404!==t.t0.response.status){t.next=16;break}return t.abrupt("return",{type:"error",message:r.email+" not found please try again or signup"});case 16:if(403!==t.t0.response.status){t.next=20;break}return t.abrupt("return",{type:"error",message:r.password+" is incorrect,please try again"});case 20:return t.abrupt("return",{type:"error",message:"There have some problem with the server,please try again later"});case 21:case"end":return t.stop()}}),t,null,[[0,12]])})));function e(e,r){return t.apply(this,arguments)}return e}(),logoutHandler:function(t){t.state.isAuth=!1,t.state.token="",t.state.user_id=";",n["a"].router.push("/")},resetPassword:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(r),t.prev=1,t.next=4,at()({url:"reset",method:"post",data:{email:r}});case 4:if(n=t.sent,200!==n.status){t.next=7;break}return t.abrupt("return",{type:"success",message:"Please check your email address to reset your password"});case 7:t.next=16;break;case 9:if(t.prev=9,t.t0=t["catch"](1),404!==t.t0.response.status){t.next=15;break}return t.abrupt("return",{type:"error",message:r+" not found please try again or signup"});case 15:return t.abrupt("return",{type:"error",message:"There have some problem with the server,please try again later"});case 16:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e,r){return t.apply(this,arguments)}return e}(),submitNewPassword:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at()({url:"new-password",method:"post",data:r});case 3:if(n=t.sent,200!==n.status&&201!==n.status){t.next=6;break}return t.abrupt("return",{type:"success",message:"Password was changed! you are redirected to login"});case 6:t.next=15;break;case 8:if(t.prev=8,t.t0=t["catch"](0),401!==t.t0.response.status){t.next=14;break}return t.abrupt("return",{type:"error",message:"User not exist or the token has expire, please try to reset again"});case 14:return t.abrupt("return",{type:"error",message:"Some problem with the server please try again later"});case 15:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e,r){return t.apply(this,arguments)}return e}()},Ot={},kt={getters:Ct,mutations:Ot,actions:xt,state:wt},_t={myFlights:[]},St={getMyFlights:function(t){return t.myFlights}},Lt={addFlight:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at()({url:"add-flight",method:"post",headers:{Authorization:"Bearer "+e.rootState.auth.token},data:{flight:r[0],departCity:r[1],returnCity:r[2]}});case 3:if(n=t.sent,200!==n.status&&201!==n.status){t.next=6;break}return t.abrupt("return",{type:"success",message:"Flight was added to favorites!"});case 6:t.next=14;break;case 8:if(t.prev=8,t.t0=t["catch"](0),401!==t.t0.response.status){t.next=12;break}return t.abrupt("return",{type:"error",message:"No Authorization"});case 12:if(403!==t.t0.response.status){t.next=14;break}return t.abrupt("return",{type:"error",message:"This flight is already exist"});case 14:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e,r){return t.apply(this,arguments)}return e}(),deleteFlights:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at()({url:"delete-flight",method:"delete",headers:{Authorization:"Bearer "+e.rootState.auth.token},data:{flight:r}});case 3:return n=t.sent,t.next=6,e.dispatch("fetchMyFlights");case 6:if(200!==n.status&&201!==n.status&&204!==n.status){t.next=8;break}return t.abrupt("return",{type:"success",message:"Flight was deleted successfuly!"});case 8:t.next=13;break;case 10:return t.prev=10,t.t0=t["catch"](0),t.abrupt("return",{type:"error",message:"Some problem with the server please try again later"});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));function e(e,r){return t.apply(this,arguments)}return e}(),fetchMyFlights:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("test"),t.prev=1,t.next=4,at()({url:"flights",method:"get",headers:{Authorization:"Bearer "+e.rootState.auth.token}});case 4:r=t.sent,e.state.myFlights=r.data.data,t.next=12;break;case 8:if(t.prev=8,t.t0=t["catch"](1),401!==t.t0.response.status){t.next=12;break}return t.abrupt("return",{type:"error",message:"No Authorization"});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}()},It={},Dt={getters:St,mutations:It,actions:Lt,state:_t};n["a"].use(rt["a"]);var Ft=new rt["a"].Store({state:{isLoading:!1},getters:{getIsLoading:function(t){return t.isLoading}},mutations:{setIsLoading:function(t,e){t.isLoading=e}},actions:{},modules:{errors:yt,searchForm:ct,flightOffers:ht,auth:kt,myFlights:Dt}}),At=r("1dce"),Rt=r.n(At),Nt=r("a65d"),Tt=r.n(Nt);n["a"].use(Tt.a),n["a"].use(Rt.a),n["a"].config.productionTip=!1,new n["a"]({router:et,store:Ft,render:function(t){return t(b)}}).$mount("#app")},"5d26":function(t,e,r){},"61a8":function(t,e,r){},"8a23":function(t,e,r){},"948e":function(t,e,r){t.exports=r.p+"img/lf.7d5a4f23.png"},cccb:function(t,e,r){"use strict";var n=r("4230"),a=r.n(n);a.a},efb7:function(t,e,r){"use strict";var n=r("30c3"),a=r.n(n);a.a}});
//# sourceMappingURL=app.35da3f13.js.map